{% extends 'base.html' %}

{% load widget_tweaks %}

{% block title %}
    Inicio - Telentos
{% endblock title %}

{% block content %}

    <style>
        .skill-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: default;
        }

        .skill-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
    </style>

    {% include "menu.html" %}

    <h2 class="mt-5">üë§ Meu Perfil</h2>
    <hr>

    <p>
        <strong>Usu√°rio:</strong> {{ user.username }}
        <strong class="ms-3">Cargo:</strong> {{ object.position }}<br>

        <strong>Admiss√£o:</strong> {{ object.admission_date|date:"d/m/Y" }}
        <strong class="ms-3">Matr√≠cula:</strong> {{ object.registration }} 
        <strong class="ms-3">Nome:</strong> {{ user.get_full_name }}<br>
    </p> 

    <h2 class="mt-5">üß† Habilidades</h2>
    <hr>

    <div class="row g-1">
        {% for skill in object.skills.all %}

            <div class="col-6 col-sm-3 col-md-2 col-xl-2">
                <div class="card shadow-sm skill-card">
                    <div class="card-body p-2 text-center">
                        <h6 class="card-title mb-1">{{ skill.skill.name }}</h6>
                        <p class="card-text small mb-0">
                            {% if skill.get_level_display == "B√°sico" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i>
                            {% elif skill.get_level_display == "Intermedi√°rio" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i class="bi bi-star"></i>
                            {% elif skill.get_level_display == "Avan√ßado" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i>
                            {% elif skill.get_level_display == "Especialista" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                            {% endif %}
                        </p>
                    </div>
                    <div class="card-footer small py-1">
                        {{ skill.years_experience }} anos
                    </div>
                </div>
            </div>

        {% empty %}
            <div class="col-12">
                <p class="small">Nenhuma habilidade cadastrada.</p>
            </div>
        {% endfor %}
    </div>

    <h2 class="mt-5">üìú Certifica√ß√µes</h2>
    <hr>

    {% if object.certifications.all %}

        <div class="table-responsive">
            <table class="table table-sm align-middle table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Data:</th>
                        <th scope="col">Tipo:</th>
                        <th scope="col">Institui√ß√£o:</th>
                        <th scope="col">Certifica√ß√£o:</th>
                        <th scope="col">CH:</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for cert in object.certifications.all %}
                        <tr>
                            <td>{{ cert.issue_date }}</td>
                            <td>{{ cert.get_certification_type_display }}</td>
                            <td>{{ cert.institution }}</td>
                            <td>{{ cert.name }}</td>
                            <td>{{ cert.workload|default:"" }}</td>
                            <td class="text-end">
                                {% if cert.file %}
                                    <a class="btn btn-sm btn-primary"
                                    href="{{ cert.file.url }}"
                                    target="_blank"
                                    title="Visualizar PDF">
                                        <i class="bi bi-file-earmark-pdf"></i>
                                    </a>
                                {% elif cert.link %}
                                    <a class="btn btn-sm btn-outline-primary"
                                    href="{{ cert.link }}"
                                    target="_blank"
                                    title="Acessar link do certificado">
                                        <i class="bi bi-box-arrow-up-right"></i>
                                    </a>
                                {% else %}
                                    <a class="btn btn-sm btn-primary disabled"
                                        href="#" tabindex="-1" aria-disabled="true" title="Nenhum PDF dispon√≠vel">
                                        <i class="bi bi-file-earmark-x"></i>
                                    </a>
                                {% endif %}
                            </td>

                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="6" class="text-muted text-center py-3">
                                Nenhuma certifica√ß√£o cadastrada.
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    
    {% else %}
        <div class="col-12">
            <p class="small">Nenhuma certifica√ß√£o cadastrada.</p>
        </div>
    {% endif %}
    
    <h2 class="mt-5">üñ•Ô∏è Sistemas</h2>
    <hr>

    <div class="g-1">
        {% for sys in object.systems.all %}
            <div class="card shadow-sm" style="width: fit-content; display: inline-block; margin: 4px;">
                <div class="card-body p-2 text-center">
                    <h6 class="card-title mb-1">{{ sys.system.name }}</h6>
                        <p class="card-text small mb-0">
                            {% if sys.get_level_display == "B√°sico" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i class="bi bi-star"></i><i class="bi bi-star"></i>
                            {% elif sys.get_level_display == "Intermedi√°rio" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i><i class="bi bi-star"></i>
                            {% elif sys.get_level_display == "Avan√ßado" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star"></i>
                            {% elif sys.get_level_display == "Especialista" %}
                                <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                            {% endif %}
                        </p>
                </div>
            </div>
        {% empty %}
            <p class="small">Nenhuma habilidade em sistema cadastrada.</p>
        {% endfor %}
    </div>

    <h2 class="mt-5">üß© Banco de Talentos</h2>
    <hr>

    <div class="">
        <p class="lead">
            A cria√ß√£o de um Banco de Talentos √© fundamental para otimizar a gest√£o de pessoas e fortalecer a estrat√©gia organizacional. Ele mant√©m um registro estruturado e atualizado de profissionais com diferentes habilidades, forma√ß√µes e experi√™ncias, facilitando a identifica√ß√£o r√°pida de talentos para oportunidades internas e demandas futuras.
        </p>
        <h4>Contribui√ß√µes principais</h4>
        <ul>
            <li><strong>Agilidade no recrutamento e sele√ß√£o:</strong> reduz tempo e custos ao possuir um conjunto qualificado de candidatos.</li>
            <li><strong>Aproveitamento de compet√™ncias internas:</strong> identifica colaboradores aptos para novos projetos, promo√ß√µes ou realoca√ß√µes.</li>
            <li><strong>Planejamento de sucess√£o e desenvolvimento:</strong> permite identificar lacunas e direcionar treinamentos focados.</li>
            <li><strong>Transpar√™ncia e equidade:</strong> amplia a visibilidade das oportunidades e assegura considera√ß√£o baseada em dados.</li>
            <li><strong>Fortalecimento da cultura organizacional:</strong> valoriza habilidades e estimula o crescimento profissional.</li>
        </ul>
        <p>
            Em resumo, o Banco de Talentos atua como uma ferramenta estrat√©gica que aumenta a efici√™ncia dos processos de gest√£o de pessoas, apoia decis√µes mais assertivas e contribui para resultados organizacionais sustent√°veis.
        </p>
    </div>

{% endblock content %}
