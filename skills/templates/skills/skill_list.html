{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}Habilidades Dispon√≠veis{% endblock title %}

{% block content %}

<h2>üß† Habilidades Dispon√≠veis</h2>

<p class="lead">
    Rela√ß√£o de habilidades utilizadas na administra√ß√£o municipal, organizadas por categoria. Voc√™ pode filtrar por nome ou tipo. Caso possua conhecimento em alguma delas, √© poss√≠vel adicion√°-la ao seu perfil para destacar suas compet√™ncias t√©cnicas.
</p>

<form method="get" class="my-4">
    <div class="row g-3">
        
        <!-- Busca por nome -->
        <div class="col-md-8">
            <label class="form-label">Pesquisar:</label>
            <div class="input-group">
                <input
                    type="text"
                    name="q"
                    class="form-control"
                    placeholder="Buscar por nome..."
                    value="{{ request.GET.q }}"
                >
                <select name="skill_type" class="form-select">
                    <option value="">Todos</option>
                    {% for key, label in skill_types %}
                        <option value="{{ key }}" {% if request.GET.skill_type == key %}selected{% endif %}>
                            {{ label }}
                        </option>
                    {% endfor %}
                </select>
                <button class="btn btn-primary" type="submit">Buscar</button>
            </div>
        </div>

    </div>
</form>

{% if skills %}
    <div class="table-responsive">
        <table class="table table-striped table-hover table-sm align-middle">
            <thead class="table-primary">
                <tr>
                    <th>Tipo</th>
                    <th>Nome</th>
                </tr>
            </thead>

            <tbody>
                {% for skill in skills %}
                    <tr>
                        <td>{{ skill.get_skill_type_display }}</td>
                        <td>{{ skill.name }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% else %}
    <div class="text-center my-4">
        <div class="col-12 col-md-6 mx-auto">
            <div class="alert alert-info" role="alert">
                Nenhuma habilidade encontrada.
            </div>
        </div>
    </div>
{% endif %}

{% include "pagination.html" %}

{% endblock content %}
